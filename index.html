<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Number Game</title>
    <link rel="stylesheet" href="./index.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h1>Welcome To The Number Guessing Game</h1>
      <p class="message">Message</p>
      <p>Total Attempts: <span type="number" class="attempts">0</span></p>
      <form onsubmit="{playGame(event)}" >
        <input class="userInput" type="number"  required />
        <button type="submit">Check Ans</button>
      </form>
    </div>
  </body>

  <script>
    let computerGuess = Math.floor(Math.random() * 11);
   
    let message = document.querySelector(".message");
   
    let userInput = document.querySelector(".userInput");
  
    let attempts = document.querySelector(".attempts")
    console.log(attempts)
    const playGame = (event) => {
      event.preventDefault();
      if (computerGuess == userInput.value) {
        // console.log(event.target);
        
         message.innerText = "You Won The Game";
         setTimeout(() =>{
          window.location.reload();
        },3000)
        cele();
       } 
       else if (computerGuess > userInput.value) {
        message.innerText = "Please Guess Greater Number";
        } else if (computerGuess < userInput.value) {
         message.innerText = "Please Guess Smaller Number";
       }
      
       attempts.innerHTML= Number(attempts.innerHTML)+1
    };
    const cele = ()=>{
      var duration = 15 * 1000;
var animationEnd = Date.now() + duration;
var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

function randomInRange(min, max) {
  return Math.random() * (max - min) + min;
}

var interval = setInterval(function() {
  var timeLeft = animationEnd - Date.now();

  if (timeLeft <= 0) {
    return clearInterval(interval);
  }

  var particleCount = 50 * (timeLeft / duration);
  // since particles fall down, start a bit higher than random
  confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
  confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
}, 250);

    }

  </script>
</html>
